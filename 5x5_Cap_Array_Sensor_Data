#include <CapacitiveSensor.h>

int s0_2 = 10;
int s1_2 = 9;
int s2_2 = 8;
int En_2 = 7;

int s0_1 = 6;
int s1_1 = 5;
int s2_1 = 4;
int En_1 = 3;





const int selectPins [3] = {6,5,4};
int Z_pin = A2;

long value1_1 = 0;
long value1_2 = 0;
long value1_3 = 0;
long value1_4 = 0;
long value1_5 = 0;

long value2_1 = 0;
long value2_2 = 0;
long value2_3 = 0;
long value2_4 = 0;
long value2_5 = 0;

long value3_1 = 0;
long value3_2 = 0;
long value3_3 = 0;
long value3_4 = 0;
long value3_5 = 0;

long value4_1 = 0;
long value4_2 = 0;
long value4_3 = 0;
long value4_4 = 0;
long value4_5 = 0;

long value5_1 = 0;
long value5_2 = 0;
long value5_3 = 0;
long value5_4 = 0;
long value5_5 = 0;

CapacitiveSensor cs = CapacitiveSensor(A0,Z_pin);

void selectChannel_1(int chnl) {
  int A = bitRead(chnl,0);
  int B = bitRead(chnl,1);
  int C = bitRead(chnl,2);
  digitalWrite(s0_1, A);
  digitalWrite(s1_1, B);
  digitalWrite(s2_1, C);
}
void selectChannel_2(int chnl) {
  int A = bitRead(chnl,0);
  int B = bitRead(chnl,1);
  int C = bitRead(chnl,2);
  digitalWrite(s0_2, A);
  digitalWrite(s1_2, B);
  digitalWrite(s2_2, C);
}

void setup()                    
{
   pinMode(s0_1, OUTPUT);
   pinMode(s1_1, OUTPUT);
   pinMode(s2_1, OUTPUT);
   pinMode(En_1, OUTPUT);
   
   pinMode(s0_2, OUTPUT);
   pinMode(s1_2, OUTPUT);
   pinMode(s2_2, OUTPUT);
   pinMode(En_2, OUTPUT);
   
   pinMode(Z_pin, OUTPUT);

   digitalWrite(s0_1, LOW);
   digitalWrite(s1_1, LOW);
   digitalWrite(s2_1, LOW);
   digitalWrite(En_1, LOW);

   digitalWrite(s0_2, LOW);
   digitalWrite(s1_2, LOW);
   digitalWrite(s2_2, LOW);
   digitalWrite(En_2, LOW);

   cs.set_CS_AutocaL_Millis(0xFFFFFFFF);     // turn off autocalibrate on channel 1 - just as an example
   Serial.begin(9600);
}

void loop()                     
{
    for (int pin_2=0; pin_2<5; pin_2++) {
      selectChannel_2(pin_2);
      for (int pin_1=0; pin_1<5; pin_1++) {
        selectChannel_1(pin_1);
        if (pin_2 == 0) {
          if (pin_1 == 0) {
//            Serial.print(cs.capacitiveSensor(100));
            value1_1 = map(cs.capacitiveSensor(100),5400,100000,0,1000);
            Serial.print(value1_1);
            Serial.print("\t");
          }
          if (pin_1 == 1) {
//            Serial.print(cs.capacitiveSensor(100));
            value1_2 = map(cs.capacitiveSensor(100),600,3500,0,1000);
            Serial.print(value1_2);
            Serial.print("\t");
          }
          if (pin_1 == 2) {
//            Serial.print(cs.capacitiveSensor(100));
            value1_3 = map(cs.capacitiveSensor(100),500,3000,0,1000); 
            Serial.print(value1_3);
            Serial.print("\t");
          }
          if (pin_1 == 3) {
//            Serial.print(cs.capacitiveSensor(100));
            value1_4 = map(cs.capacitiveSensor(100),600,3500,0,1000);
            Serial.print(value1_4);
            Serial.print("\t");
          }
          
          if (pin_1 == 4) {
//            Serial.print(cs.capacitiveSensor(100));
            value1_5 = map(cs.capacitiveSensor(100),1000,3000,0,1000);
            Serial.print(value1_5);
            Serial.print("\t");
          }
        }        
         if (pin_2 == 1) {
          if (pin_1 == 0) {
//            Serial.print(cs.capacitiveSensor(100));
            value2_1 = map(cs.capacitiveSensor(100),4900,110000,0,1000);
            Serial.print(value2_1);
            Serial.print("\t");
          }
          if (pin_1 == 1) {
//            Serial.print(cs.capacitiveSensor(100));
            value2_2 = map(cs.capacitiveSensor(100),0,3000,0,1000);
            Serial.print(value2_2);
            Serial.print("\t");
          }
          if (pin_1 == 2) {
//            Serial.print(cs.capacitiveSensor(100));
            value2_3 = map(cs.capacitiveSensor(100),0,2500,0,1000); 
            Serial.print(value2_3);
            Serial.print("\t");
          }
          if (pin_1 == 3) {
//            Serial.print(cs.capacitiveSensor(100));
            value2_4 = map(cs.capacitiveSensor(100),0,2900,0,1000);
            Serial.print(value2_4);
            Serial.print("\t");
          }
          
          if (pin_1 == 4) {
//            Serial.print(cs.capacitiveSensor(100));
            value2_5 = map(cs.capacitiveSensor(100),650,3000,0,1000);
            Serial.print(value2_5);
            Serial.print("\t");
          }
        }
   
        if (pin_2 == 2) {
          if (pin_1 == 0) {
//            Serial.print(cs.capacitiveSensor(100));
            value3_1 = map(cs.capacitiveSensor(100),4800,110000,0,1000);
            Serial.print(value3_1);
            Serial.print("\t");
          }
          if (pin_1 == 1) {
//            Serial.print(cs.capacitiveSensor(100));
            value3_2 = map(cs.capacitiveSensor(100),900,3600,0,1000);
            Serial.print(value3_2);
            Serial.print("\t");
          }
          if (pin_1 == 2) {
//            Serial.print(cs.capacitiveSensor(100));
            value3_3 = map(cs.capacitiveSensor(100),600,3000,0,1000); 
            Serial.print(value3_3);
            Serial.print("\t");
          }
          if (pin_1 == 3) {
//            Serial.print(cs.capacitiveSensor(100));
            value3_4 = map(cs.capacitiveSensor(100),700,4000,0,1000);
            Serial.print(value3_4);
            Serial.print("\t");
          }
          
          if (pin_1 == 4) {
//            Serial.print(cs.capacitiveSensor(100));
            value3_5 = map(cs.capacitiveSensor(100),1000,4000,0,1000);
            Serial.print(value3_5);
            Serial.print("\t");
          }
        }
        if (pin_2 == 3) {
          if (pin_1 == 0) {
//            Serial.print(cs.capacitiveSensor(100));
            value4_1 = map(cs.capacitiveSensor(100),4700,125000,0,1000);
            Serial.print(value4_1);
            Serial.print("\t");
          }
          if (pin_1 == 1) {
//            Serial.print(cs.capacitiveSensor(100));
            value4_2 = map(cs.capacitiveSensor(100),900,4600,0,1000);
            Serial.print(value4_2);
            Serial.print("\t");
          }
          if (pin_1 == 2) {
//            Serial.print(cs.capacitiveSensor(100));
            value4_3 = map(cs.capacitiveSensor(100),1000,4000,0,1000); 
            Serial.print(value4_3);
            Serial.print("\t");
          }
          if (pin_1 == 3) {
//            Serial.print(cs.capacitiveSensor(100));
            value4_4 = map(cs.capacitiveSensor(100),1000,4200,0,1000);
            Serial.print(value4_4);
            Serial.print("\t");
          }
          
          if (pin_1 == 4) {
//            Serial.print(cs.capacitiveSensor(100));
            value4_5 = map(cs.capacitiveSensor(100),1600,4300,0,1000);
            Serial.print(value4_5);
            Serial.print("\t");
          }
        }
        if (pin_2 == 4) {
          if (pin_1 == 0) {
//            Serial.print(cs.capacitiveSensor(100));
            value5_1 = map(cs.capacitiveSensor(100),5200,125000,0,1000);
            Serial.print(value5_1);
            Serial.print("\t");
          }
          if (pin_1 == 1) {
//            Serial.print(cs.capacitiveSensor(100));
            value5_2 = map(cs.capacitiveSensor(100),4400,17800,0,1000);
            Serial.print(value5_2);
            Serial.print("\t");
          }
          if (pin_1 == 2) {
//            Serial.print(cs.capacitiveSensor(100));
            value5_3 = map(cs.capacitiveSensor(100),4700,17500,0,1000); 
            Serial.print(value5_3);
            Serial.print("\t");
          }
          if (pin_1 == 3) {
//            Serial.print(cs.capacitiveSensor(100));
            value5_4 = map(cs.capacitiveSensor(100),4900,18000,0,1000);
            Serial.print(value5_4);
            Serial.print("\t");
          }
          
          if (pin_1 == 4) {
//            Serial.print(cs.capacitiveSensor(100));
            value5_5 = map(cs.capacitiveSensor(100),5600,18000,0,1000);
            Serial.print(value5_5);
            Serial.print("\t");
          }
        }
      }
      Serial.println();
    }
    Serial.println();
}